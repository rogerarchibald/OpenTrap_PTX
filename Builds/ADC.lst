   1               		.file	"ADC.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   8               		.text
   9               	.Ltext0:
 106               	.global	ADC_Init
 108               	ADC_Init:
   1:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** /*
   2:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c ****  * ADC.c
   3:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c ****  *
   4:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c ****  * Created: 6/13/15 1:09:27 PM
   5:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c ****  *  Author: Roger
   6:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c ****  
   7:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c ****  
   8:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c ****  Want to set up the ADC as 8-bit, will left-align the results and drop the Low register...8-bits is
   9:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c ****  In this first setup I've got a resistor divider on VIN such where Rtop = 100K and Rbottom = 47K so
  10:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c ****  ***This was written for an older version: going forward I might go to 3V instead of 3.3 which will
  11:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c ****  */ 
  12:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 
  13:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** #include "ADC.h"
  14:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 
  15:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** void ADC_Init(void) {
 110               	.LM0:
 111               	.LFBB1:
 112               	/* prologue: function */
 113               	/* frame size = 0 */
 114               	/* stack size = 0 */
 115               	.L__stack_usage = 0
  16:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 	
  17:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 	ADMUX = 0x67;	// 6 is selecting Left Allign and reference voltage. LSNibble == 7 is for ADC7
 117               	.LM1:
 118 0000 87E6      		ldi r24,lo8(103)
 119 0002 8093 7C00 		sts 124,r24
  18:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 	ADCSRA = 0x95;	//Enable ADC, write a 1 to the interrupt flag to clear it, and set prescaler to 32.
 121               	.LM2:
 122 0006 85E9      		ldi r24,lo8(-107)
 123 0008 8093 7A00 		sts 122,r24
 124 000c 0895      		ret
 126               	.Lscope1:
 128               	.global	checkADC_Stat
 130               	checkADC_Stat:
  19:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** }
  20:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 
  21:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** //This will deterimine if an ADC conversion has been completed
  22:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** u8 checkADC_Stat(void){
 132               	.LM3:
 133               	.LFBB2:
 134               	/* prologue: function */
 135               	/* frame size = 0 */
 136               	/* stack size = 0 */
 137               	.L__stack_usage = 0
  23:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 	if(ADCSRA & 0x10){
 139               	.LM4:
 140 000e 8091 7A00 		lds r24,122
  24:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 		return 1;
  25:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 	}else{
  26:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 		return 0;
  27:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 	}
  28:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 	
  29:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** }
 142               	.LM5:
 143 0012 8295      		swap r24
 144 0014 8170      		andi r24,1
 145 0016 0895      		ret
 147               	.Lscope2:
 149               	.global	start_ADC_conv
 151               	start_ADC_conv:
  30:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 
  31:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** //initialize ADC conversion
  32:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** void start_ADC_conv (void){
 153               	.LM6:
 154               	.LFBB3:
 155               	/* prologue: function */
 156               	/* frame size = 0 */
 157               	/* stack size = 0 */
 158               	.L__stack_usage = 0
  33:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 	ADCSRA |= 0x40;	//ADC Start Conversion
 160               	.LM7:
 161 0018 EAE7      		ldi r30,lo8(122)
 162 001a F0E0      		ldi r31,0
 163 001c 8081      		ld r24,Z
 164 001e 8064      		ori r24,lo8(64)
 165 0020 8083      		st Z,r24
 166 0022 0895      		ret
 168               	.Lscope3:
 170               	.global	readADC
 172               	readADC:
  34:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** }
  35:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 
  36:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 
  37:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** //For right now this is returning the left-alligned (upper 8 bits of the 10-bit ADC) 8-bit conversi
  38:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** u8 readADC(void){
 174               	.LM8:
 175               	.LFBB4:
 176               	/* prologue: function */
 177               	/* frame size = 0 */
 178               	/* stack size = 0 */
 179               	.L__stack_usage = 0
  39:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 
  40:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 	ADCSRA |= 0x10;	//clear interrupt flag
 181               	.LM9:
 182 0024 8091 7A00 		lds r24,122
 183 0028 8061      		ori r24,lo8(16)
 184 002a 8093 7A00 		sts 122,r24
  41:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 	if(ADCH > 170){	//170 ~= 6.8V, if I'm above there then I should be good
 186               	.LM10:
 187 002e 9091 7900 		lds r25,121
 188 0032 81E0      		ldi r24,lo8(1)
 189 0034 9B3A      		cpi r25,lo8(-85)
 190 0036 00F0      		brlo .L5
 191 0038 80E0      		ldi r24,0
 192               	.L5:
  42:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 		return 0;
  43:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 	}
  44:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 	return 1;	//TODO modify this function to compare read value to a low-battery threshold and set fla
  45:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 	//return ADCH;
  46:/Users/Roger/Library/Mobile Documents/com~apple~CloudDocs/Firmwares/XAVR/smart_trap_ultrasonic/Smart_trap_sonic/Smart_trap_sonic/ADC.c **** 	}
 194               	.LM11:
 195 003a 0895      		ret
 197               	.Lscope4:
 199               	.Letext0:
 200               		.ident	"GCC: (GNU) 4.9.3"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 ADC.c
/var/folders/5n/sn67s4dx5cj3x2ns4qywc93r0000gn/T//ccEeHsRc.s:2      *ABS*:000000000000003e __SP_H__
/var/folders/5n/sn67s4dx5cj3x2ns4qywc93r0000gn/T//ccEeHsRc.s:3      *ABS*:000000000000003d __SP_L__
/var/folders/5n/sn67s4dx5cj3x2ns4qywc93r0000gn/T//ccEeHsRc.s:4      *ABS*:000000000000003f __SREG__
/var/folders/5n/sn67s4dx5cj3x2ns4qywc93r0000gn/T//ccEeHsRc.s:5      *ABS*:0000000000000000 __tmp_reg__
/var/folders/5n/sn67s4dx5cj3x2ns4qywc93r0000gn/T//ccEeHsRc.s:6      *ABS*:0000000000000001 __zero_reg__
/var/folders/5n/sn67s4dx5cj3x2ns4qywc93r0000gn/T//ccEeHsRc.s:108    .text:0000000000000000 ADC_Init
/var/folders/5n/sn67s4dx5cj3x2ns4qywc93r0000gn/T//ccEeHsRc.s:130    .text:000000000000000e checkADC_Stat
/var/folders/5n/sn67s4dx5cj3x2ns4qywc93r0000gn/T//ccEeHsRc.s:151    .text:0000000000000018 start_ADC_conv
/var/folders/5n/sn67s4dx5cj3x2ns4qywc93r0000gn/T//ccEeHsRc.s:172    .text:0000000000000024 readADC

NO UNDEFINED SYMBOLS
